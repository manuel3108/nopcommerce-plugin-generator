import{F as d}from"./File-9e84454c.js";import{C as l}from"./Class-7b935fc0.js";import{F as p}from"./Field-b8f50578.js";import{F as u}from"./FieldAttribute-df44d096.js";import{U as r,V as o,M as c}from"./ClassBase-41fafc6f.js";import{g}from"./index-dd84ffed.js";import{D as f}from"./datetime-c813b899.js";import"./vendor-ee3c6b4b.js";import"./preload-helper-ec9aa979.js";class v{generate(s){const a=[],t=["Migrations"],i="SchemaMigration",e=new d(i,"cs",t,this.generateContent(s,t,i));return a.push(e),a}generateContent(s,a,t){const i=f.now().toFormat("yyyy/MM/dd HH:mm:ss:SSS")+"0000",e=new l(g(s.base.nameSpace,a),t,{addCtor:!0,addRegions:!0,attributes:[new u(`NopMigration("${i}", "${s.details.systemName} base schema", MigrationProcessType.NoMatter)`)]});e.usings.push(new r(s.base.nameSpace+".Domain")),e.usings.push(new r("Nop.Data.Migrations")),e.usings.push(new r("Nop.Data.Extensions")),e.usings.push(new r("FluentMigrator")),e.inheritsFrom="AutoReversingMigration",e.addField(new p(o.Private,"_migrationManager","IMigrationManager ",{additionalNewLine:!1,hasGetterAndSetter:!1,isConstant:!1,isProperty:!1,isReadonly:!0}));const n=new c(o.Public,"Up",{returnType:"void",async:!1,override:!0});return s.database.entities.forEach(m=>{n.expressions.push(`Create.TableFor<${m.className}>();`)}),e.methods.push(n),e.toString()}}export{v as default};
